"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var z=["require","exports","vs/base/common/lifecycle","vs/base/common/platform","vs/base/common/observableInternal/logging","vs/base/common/observableInternal/base","vs/base/common/errors","vs/base/common/uri","vs/editor/common/tokens/lineTokens","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/derived","vs/base/common/observable","vs/base/common/buffer","vs/base/common/network","vs/base/common/resources","vs/base/common/async","vs/editor/common/core/eolCounter","vs/editor/common/encodedTokenAttributes","vs/editor/common/core/lineRange","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/languages/nullTokenize","vs/base/common/amd","vs/base/common/observableInternal/utils","vs/base/common/stream","vs/base/common/symbols","vs/base/common/extpath","vs/base/common/path","vs/base/common/strings","vs/amdX","vs/base/common/event","vs/editor/common/model/fixedArray","vs/base/common/arrays","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/base/common/stopwatch","vs/workbench/services/textMate/browser/tokenizationSupport/textMateTokenizationSupport","vs/workbench/services/textMate/browser/tokenizationSupport/tokenizationSupportWithLineLimit","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerTokenizer","vs/workbench/services/textMate/common/TMScopeRegistry","vs/workbench/services/textMate/common/TMGrammarFactory","vs/base/common/assert","vs/base/common/lazy","vs/base/common/types","vs/base/common/cancellation","vs/editor/common/core/position","vs/editor/common/core/offsetRange","vs/editor/common/model/mirrorTextModel","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker"],V=function(q){for(var e=[],N=0,k=q.length;N<k;N++)e[N]=z[q[N]];return e};define(z[21],V([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$U=e.$T=void 0,e.$T=!1;class N{static get(){const v=new Map,A=new Map,s=new Map,l=new Map;function t(c,n){c.has(n.detail)||c.set(n.detail,-n.timestamp)}function r(c,n){const i=c.get(n.detail);i&&(i>=0||c.set(n.detail,i+n.timestamp))}let h=[];typeof q=="function"&&typeof q.getStats=="function"&&(h=q.getStats().slice(0).sort((c,n)=>c.timestamp-n.timestamp));for(const c of h)switch(c.type){case 10:t(v,c);break;case 11:case 12:r(v,c);break;case 21:t(A,c);break;case 22:r(A,c);break;case 33:t(s,c);break;case 34:r(s,c);break;case 31:t(l,c);break;case 32:r(l,c);break}let o=0;s.forEach(c=>o+=c);function g(c){const n=[];return c.forEach((i,a)=>n.push([a,i])),n}return{amdLoad:g(v),amdInvoke:g(A),nodeRequire:g(s),nodeEval:g(l),nodeRequireTotal:o}}static toMarkdownTable(v,A){let s="";const l=[];return v.forEach((t,r)=>{l[r]=t.length}),A.forEach(t=>{t.forEach((r,h)=>{typeof r>"u"&&(r=t[h]="-");const o=r.toString().length;l[h]=Math.max(o,l[h])})}),v.forEach((t,r)=>{s+=`| ${t+" ".repeat(l[r]-t.toString().length)} `}),s+=`|
`,v.forEach((t,r)=>{s+=`| ${"-".repeat(l[r])} `}),s+=`|
`,A.forEach(t=>{t.forEach((r,h)=>{typeof r<"u"&&(s+=`| ${r+" ".repeat(l[h]-r.toString().length)} `)}),s+=`|
`}),s}}e.$U=N}),define(z[4],V([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rd=e.$qd=e.$pd=void 0;let N;function k(i){N=i}e.$pd=k;function v(){return N}e.$qd=v;class A{constructor(){this.a=0,this.d=new WeakMap}b(a){return s([l(c("|  ",this.a)),a])}c(a){return a.hadValue?a.didChange?[l(" "),r(h(a.oldValue,70),{color:"red",strikeThrough:!0}),l(" "),r(h(a.newValue,60),{color:"green"})]:[l(" (unchanged)")]:[l(" "),r(h(a.newValue,60),{color:"green"}),l(" (initial)")]}handleObservableChanged(a,w){console.log(...this.b([t("observable value changed"),r(a.debugName,{color:"BlueViolet"}),...this.c(w)]))}formatChanges(a){if(a.size!==0)return r(" (changed deps: "+[...a].map(w=>w.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(a){const w=a.handleChange;this.d.set(a,new Set),a.handleChange=(I,U)=>(this.d.get(a).add(I),w.apply(a,[I,U]))}handleDerivedRecomputed(a,w){const I=this.d.get(a);console.log(...this.b([t("derived recomputed"),r(a.debugName,{color:"BlueViolet"}),...this.c(w),this.formatChanges(I),{data:[{fn:a._computeFn}]}])),I.clear()}handleFromEventObservableTriggered(a,w){console.log(...this.b([t("observable from event triggered"),r(a.debugName,{color:"BlueViolet"}),...this.c(w),{data:[{fn:a._getValue}]}]))}handleAutorunCreated(a){const w=a.handleChange;this.d.set(a,new Set),a.handleChange=(I,U)=>(this.d.get(a).add(I),w.apply(a,[I,U]))}handleAutorunTriggered(a){const w=this.d.get(a);console.log(...this.b([t("autorun"),r(a.debugName,{color:"BlueViolet"}),this.formatChanges(w),{data:[{fn:a._runFn}]}])),w.clear(),this.a++}handleAutorunFinished(a){this.a--}handleBeginTransaction(a){let w=a.getDebugName();w===void 0&&(w=""),console.log(...this.b([t("transaction"),r(w,{color:"BlueViolet"}),{data:[{fn:a._fn}]}])),this.a++}handleEndTransaction(){this.a--}}e.$rd=A;function s(i){const a=new Array,w=[];let I="";function U(T){if("length"in T)for(const $ of T)$&&U($);else"text"in T?(I+=`%c${T.text}`,a.push(T.style),T.data&&w.push(...T.data)):"data"in T&&w.push(...T.data)}U(i);const j=[I,...a];return j.push(...w),j}function l(i){return r(i,{color:"black"})}function t(i){return r(n(`${i}: `,10),{color:"black",bold:!0})}function r(i,a={color:"black"}){function w(U){return Object.entries(U).reduce((j,[T,$])=>`${j}${T}:${$};`,"")}const I={color:a.color};return a.strikeThrough&&(I["text-decoration"]="line-through"),a.bold&&(I["font-weight"]="bold"),{text:i,style:w(I)}}function h(i,a){switch(typeof i){case"number":return""+i;case"string":return i.length+2<=a?`"${i}"`:`"${i.substr(0,a-7)}"+...`;case"boolean":return i?"true":"false";case"undefined":return"undefined";case"object":return i===null?"null":Array.isArray(i)?o(i,a):g(i,a);case"symbol":return i.toString();case"function":return`[[Function${i.name?" "+i.name:""}]]`;default:return""+i}}function o(i,a){let w="[ ",I=!0;for(const U of i){if(I||(w+=", "),w.length-5>a){w+="...";break}I=!1,w+=`${h(U,a-w.length)}`}return w+=" ]",w}function g(i,a){let w="{ ",I=!0;for(const[U,j]of Object.entries(i)){if(I||(w+=", "),w.length-5>a){w+="...";break}I=!1,w+=`${U}: ${h(j,a-w.length)}`}return w+=" }",w}function c(i,a){let w="";for(let I=1;I<=a;I++)w+=i;return w}function n(i,a){for(;i.length<a;)i+=" ";return i}}),define(z[5],V([0,1,4]),function(q,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Jd=e.$Id=e.$Hd=e.$Gd=e.$Fd=e.$Ed=e.$Dd=e.$Cd=e.$Bd=e.$Ad=e.$zd=e.$yd=e.$xd=void 0;let k;function v(f){k=f}e.$xd=v;class A{get TChange(){return null}reportChanges(){this.get()}read(m){return m?m.readObservable(this):this.get()}map(m,P){const d=P===void 0?void 0:m,S=P===void 0?m:P;return k({owner:d,debugName:()=>{const L=U(S);if(L!==void 0)return L;const O=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(S.toString());if(O)return`${this.debugName}.${O[2]}`;if(!d)return`${this.debugName} (mapped)`}},L=>S(this.read(L),L))}}e.$yd=A;class s extends A{constructor(){super(...arguments),this.c=new Set}addObserver(m){const P=this.c.size;this.c.add(m),P===0&&this.f()}removeObserver(m){this.c.delete(m)&&this.c.size===0&&this.g()}f(){}g(){}}e.$zd=s;function l(f,m){const P=new h(f,m);try{f(P)}finally{P.finish()}}e.$Ad=l;async function t(f,m){const P=new h(f,m);try{await f(P)}finally{P.finish()}}e.$Bd=t;function r(f,m,P){f?m(f):l(m,P)}e.$Cd=r;class h{constructor(m,P){this._fn=m,this.b=P,this.a=[],(0,N.$qd)()?.handleBeginTransaction(this)}getDebugName(){return this.b?this.b():U(this._fn)}updateObserver(m,P){this.a.push({observer:m,observable:P}),m.beginUpdate(P)}finish(){const m=this.a;this.a=null;for(const{observer:P,observable:d}of m)P.endUpdate(d);(0,N.$qd)()?.handleEndTransaction()}}e.$Dd=h;const o=new Map,g=new WeakMap;function c(f,m,P,d,S){const L=g.get(f);if(L)return L;const F=n(f,m,P,d,S);if(F){let O=o.get(F)??0;O++,o.set(F,O);const b=O===1?F:`${F}#${O}`;return g.set(f,b),b}}e.$Ed=c;function n(f,m,P,d,S){const L=g.get(f);if(L)return L;const F=d?w(d)+".":"";let O;if(m!==void 0)if(typeof m=="function"){if(O=m(),O!==void 0)return F+O}else return F+m;if(P!==void 0&&(O=U(P),O!==void 0))return F+O;if(d!==void 0){for(const b in d)if(d[b]===S)return F+b}}const i=new Map,a=new WeakMap;function w(f){const m=a.get(f);if(m)return m;const P=I(f);let d=i.get(P)??0;d++,i.set(P,d);const S=d===1?P:`${P}#${d}`;return a.set(f,S),S}function I(f){const m=f.constructor;return m?m.name:"Object"}function U(f){const m=f.toString(),d=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(m);return(d?d[1]:void 0)?.trim()}e.$Fd=U;function j(f,m){return typeof f=="string"?new T(void 0,f,m):new T(f,void 0,m)}e.$Gd=j;class T extends s{get debugName(){return c(this,this.d,void 0,this.b,this)??"ObservableValue"}constructor(m,P,d){super(),this.b=m,this.d=P,this.a=d}get(){return this.a}set(m,P,d){if(this.a===m)return;let S;P||(P=S=new h(()=>{},()=>`Setting ${this.debugName}`));try{const L=this.a;this.e(m),(0,N.$qd)()?.handleObservableChanged(this,{oldValue:L,newValue:m,change:d,didChange:!0,hadValue:!0});for(const F of this.c)P.updateObserver(F,this),F.handleChange(this,d)}finally{S&&S.finish()}}toString(){return`${this.debugName}: ${this.a}`}e(m){this.a=m}}e.$Hd=T;function $(f,m){return typeof f=="string"?new y(void 0,f,m):new y(f,void 0,m)}e.$Id=$;class y extends T{e(m){this.a!==m&&(this.a&&this.a.dispose(),this.a=m)}dispose(){this.a?.dispose()}}e.$Jd=y}),define(z[9],V([0,1,42,2,5,4]),function(q,e,N,k,v,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bd=e.$ad=e.$_c=e.$$c=e.$0c=e.$9c=e.$8c=void 0;function s(n,i){return new g(n.debugName,i,void 0,void 0)}e.$8c=s;function l(n){return new g(void 0,n,void 0,void 0)}e.$9c=l;function t(n,i){return new g(n.debugName,i,n.createEmptyChangeSummary,n.handleChange)}e.$0c=t;function r(n,i){const a=new k.$Rc,w=t({debugName:n.debugName??(()=>(0,v.$Fd)(i)),createEmptyChangeSummary:n.createEmptyChangeSummary,handleChange:n.handleChange},(I,U)=>{a.clear(),i(I,U,a)});return(0,k.$Qc)(()=>{w.dispose(),a.dispose()})}e.$$c=r;function h(n){const i=new k.$Rc,a=s({debugName:()=>(0,v.$Fd)(n)||"(anonymous)"},w=>{i.clear(),n(w,i)});return(0,k.$Qc)(()=>{a.dispose(),i.dispose()})}e.$_c=h;var o;(function(n){n[n.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",n[n.stale=2]="stale",n[n.upToDate=3]="upToDate"})(o||(o={}));class g{get debugName(){if(typeof this.h=="string")return this.h;if(typeof this.h=="function"){const a=this.h();if(a!==void 0)return a}const i=(0,v.$Fd)(this._runFn);return i!==void 0?i:"(anonymous)"}constructor(i,a,w,I){this.h=i,this._runFn=a,this.i=w,this.j=I,this.a=2,this.b=0,this.c=!1,this.e=new Set,this.f=new Set,this.g=this.i?.(),(0,A.$qd)()?.handleAutorunCreated(this),this.k(),(0,k.$Jc)(this)}dispose(){this.c=!0;for(const i of this.e)i.removeObserver(this);this.e.clear(),(0,k.$Kc)(this)}k(){if(this.a===3)return;const i=this.f;this.f=this.e,this.e=i,this.a=3;try{if(!this.c){(0,A.$qd)()?.handleAutorunTriggered(this);const a=this.g;this.g=this.i?.(),this._runFn(this,a)}}finally{(0,A.$qd)()?.handleAutorunFinished(this);for(const a of this.f)a.removeObserver(this);this.f.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.a===3&&(this.a=1),this.b++}endUpdate(){if(this.b===1)do{if(this.a===1){this.a=3;for(const i of this.e)if(i.reportChanges(),this.a===2)break}this.k()}while(this.a!==3);this.b--,(0,N.$6c)(()=>this.b>=0)}handlePossibleChange(i){this.a===3&&this.e.has(i)&&!this.f.has(i)&&(this.a=1)}handleChange(i,a){this.e.has(i)&&!this.f.has(i)&&(!this.j||this.j({changedObservable:i,change:a,didChange:I=>I===i},this.g))&&(this.a=2)}readObservable(i){if(this.c)return i.get();i.addObserver(this);const a=i.get();return this.e.add(i),this.f.delete(i),a}}e.$ad=g,function(n){n.Observer=g}(l||(e.$9c=l={}));function c(n,i){let a;return s({debugName:()=>(0,v.$Fd)(i)},w=>{const I=n.read(w),U=a;a=I,i({lastValue:U,newValue:I})})}e.$bd=c}),define(z[10],V([0,1,6,2,5,4]),function(q,e,N,k,v,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wd=e.$vd=e.$ud=e.$td=e.$sd=void 0;const s=(c,n)=>c===n;function l(c,n){return n!==void 0?new g(c,void 0,n,void 0,void 0,void 0,s):new g(void 0,void 0,c,void 0,void 0,void 0,s)}e.$sd=l;function t(c,n){return new g(c.owner,c.debugName,n,void 0,void 0,void 0,c.equalityComparer??s)}e.$td=t;function r(c,n){return new g(c.owner,c.debugName,n,c.createEmptyChangeSummary,c.handleChange,void 0,c.equalityComparer??s)}e.$ud=r;function h(c,n){let i,a;n===void 0?(i=c,a=void 0):(a=c,i=n);const w=new k.$Rc;return new g(a,()=>(0,v.$Fd)(i)??"(anonymous)",I=>(w.clear(),i(I,w)),void 0,void 0,()=>w.dispose(),s)}e.$vd=h,(0,v.$xd)(t);var o;(function(c){c[c.initial=0]="initial",c[c.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",c[c.stale=2]="stale",c[c.upToDate=3]="upToDate"})(o||(o={}));class g extends v.$zd{get debugName(){return(0,v.$Ed)(this,this.n,this._computeFn,this.m,this)??"(anonymous)"}constructor(n,i,a,w,I,U=void 0,j){super(),this.m=n,this.n=i,this._computeFn=a,this.p=w,this.q=I,this.s=U,this.t=j,this.e=0,this.h=void 0,this.i=0,this.j=new Set,this.k=new Set,this.l=void 0,this.l=this.p?.(),(0,A.$qd)()?.handleDerivedCreated(this)}g(){this.e=0,this.h=void 0;for(const n of this.j)n.removeObserver(this);this.j.clear(),this.s?.()}get(){if(this.c.size===0){const n=this._computeFn(this,this.p?.());return this.g(),n}else{do{if(this.e===1){for(const n of this.j)if(n.reportChanges(),this.e===2)break}this.e===1&&(this.e=3),this.v()}while(this.e!==3);return this.h}}v(){if(this.e===3)return;const n=this.k;this.k=this.j,this.j=n;const i=this.e!==0,a=this.h;this.e=3;const w=this.l;this.l=this.p?.();try{this.h=this._computeFn(this,w)}finally{for(const U of this.k)U.removeObserver(this);this.k.clear()}const I=i&&!this.t(a,this.h);if((0,A.$qd)()?.handleDerivedRecomputed(this,{oldValue:a,newValue:this.h,change:void 0,didChange:I,hadValue:i}),I)for(const U of this.c)U.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(n){this.i++;const i=this.i===1;if(this.e===3&&(this.e=1,!i))for(const a of this.c)a.handlePossibleChange(this);if(i)for(const a of this.c)a.beginUpdate(this)}endUpdate(n){if(this.i--,this.i===0){const i=[...this.c];for(const a of i)a.endUpdate(this)}if(this.i<0)throw new N.$cb}handlePossibleChange(n){if(this.e===3&&this.j.has(n)&&!this.k.has(n)){this.e=1;for(const i of this.c)i.handlePossibleChange(this)}}handleChange(n,i){if(this.j.has(n)&&!this.k.has(n)){const a=this.q?this.q({changedObservable:n,change:i,didChange:I=>I===n},this.l):!0,w=this.e===3;if(a&&(this.e===1||w)&&(this.e=2,w))for(const I of this.c)I.handlePossibleChange(this)}}readObservable(n){n.addObserver(this);const i=n.get();return this.j.add(n),this.k.delete(n),i}addObserver(n){const i=!this.c.has(n)&&this.i>0;super.addObserver(n),i&&n.beginUpdate(this)}removeObserver(n){const i=this.c.has(n)&&this.i>0;super.removeObserver(n),i&&n.endUpdate(this)}}e.$wd=g}),define(z[22],V([0,1,2,9,5,10,4]),function(q,e,N,k,v,A,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$od=e.$nd=e.$md=e.$ld=e.$kd=e.$jd=e.$id=e.$hd=e.$gd=e.$fd=e.$ed=e.$dd=e.$cd=void 0;function l(f){return new t(f)}e.$cd=l;class t extends v.$yd{constructor(m){super(),this.a=m}get debugName(){return this.toString()}get(){return this.a}addObserver(m){}removeObserver(m){}toString(){return`Const: ${this.a}`}}function r(f){const m=(0,v.$Gd)("promiseValue",{});return f.then(P=>{m.set({value:P},void 0)}),m}e.$dd=r;function h(f,m){return new Promise(P=>{let d=!1,S=!1;const L=(0,k.$9c)(F=>{const O=f.read(F);m(O)&&(d?L.dispose():S=!0,P(O))});d=!0,S&&L.dispose()})}e.$ed=h;function o(f,m){return new g(f,m)}e.$fd=o;class g extends v.$zd{constructor(m,P){super(),this.h=m,this._getValue=P,this.b=!1,this.k=d=>{const S=this._getValue(d),L=!this.b||this.a!==S;(0,s.$qd)()?.handleFromEventObservableTriggered(this,{oldValue:this.a,newValue:S,change:void 0,didChange:L,hadValue:this.b}),L&&(this.a=S,this.b&&(0,v.$Ad)(F=>{for(const O of this.c)F.updateObserver(O,this),O.handleChange(this,void 0)},()=>{const F=this.i();return"Event fired"+(F?`: ${F}`:"")}),this.b=!0)}}i(){return(0,v.$Fd)(this._getValue)}get debugName(){const m=this.i();return"From Event"+(m?`: ${m}`:"")}f(){this.e=this.h(this.k)}g(){this.e.dispose(),this.e=void 0,this.b=!1,this.a=void 0}get(){return this.e?(this.b||this.k(void 0),this.a):this._getValue(void 0)}}e.$gd=g,function(f){f.Observer=g}(o||(e.$fd=o={}));function c(f,m){return new n(f,m)}e.$hd=c;class n extends v.$zd{constructor(m,P){super(),this.debugName=m,this.b=P,this.h=()=>{(0,v.$Ad)(d=>{for(const S of this.c)d.updateObserver(S,this),S.handleChange(this,void 0)},()=>this.debugName)}}f(){this.a=this.b(this.h)}g(){this.a.dispose(),this.a=void 0}get(){}}function i(f){return typeof f=="string"?new a(f):new a(void 0,f)}e.$id=i;class a extends v.$zd{get debugName(){return(0,v.$Ed)(this,this.a,void 0,this.b,this)??"Observable Signal"}constructor(m,P){super(),this.a=m,this.b=P}trigger(m,P){if(!m){(0,v.$Ad)(d=>{this.trigger(d,P)},()=>`Trigger signal ${this.debugName}`);return}for(const d of this.c)m.updateObserver(d,this),d.handleChange(this,P)}get(){}}function w(f,m,P){const d=(0,v.$Gd)("debounced",void 0);let S;return P.add((0,k.$9c)(L=>{const F=f.read(L);S&&clearTimeout(S),S=setTimeout(()=>{(0,v.$Ad)(O=>{d.set(F,O)})},m)})),d}e.$jd=w;function I(f,m,P){const d=(0,v.$Gd)("triggeredRecently",!1);let S;return P.add(f(()=>{d.set(!0,void 0),S&&clearTimeout(S),S=setTimeout(()=>{d.set(!1,void 0)},m)})),d}e.$kd=I;function U(f){const m=new T(!1);return f.addObserver(m),(0,N.$Qc)(()=>{f.removeObserver(m)})}e.$ld=U;function j(f){const m=new T(!0);return f.addObserver(m),f.reportChanges(),(0,N.$Qc)(()=>{f.removeObserver(m)})}e.$md=j;class T{constructor(m){this.b=m,this.a=0}beginUpdate(m){this.a++}endUpdate(m){this.a--,this.a===0&&this.b&&m.reportChanges()}handlePossibleChange(m){}handleChange(m,P){}}function $(f){let m;return(0,A.$sd)(d=>(m=f(d,m),m))}e.$nd=$;function y(f,m){let P;const d=(0,v.$Gd)("derivedObservableWithWritableCache.counter",0),S=(0,A.$sd)(f,L=>(d.read(L),P=m(L,P),P));return Object.assign(S,{clearCache:L=>{P=void 0,d.set(d.get()+1,L)}})}e.$od=y}),define(z[11],V([0,1,5,10,9,22,4]),function(q,e,N,k,v,A,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wasEventTriggeredRecently=e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromPromise=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.debouncedObservable=e.constObservable=e.autorunWithStoreHandleChanges=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorunDelta=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return N.$Gd}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return N.$Id}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return N.$Ad}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return N.$Cd}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.$sd}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.$td}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.$ud}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.$vd}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return v.$9c}}),Object.defineProperty(e,"autorunDelta",{enumerable:!0,get:function(){return v.$bd}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return v.$0c}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return v.$_c}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return v.$8c}}),Object.defineProperty(e,"autorunWithStoreHandleChanges",{enumerable:!0,get:function(){return v.$$c}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return A.$cd}}),Object.defineProperty(e,"debouncedObservable",{enumerable:!0,get:function(){return A.$jd}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return A.$nd}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return A.$od}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return A.$ld}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return A.$md}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return A.$fd}}),Object.defineProperty(e,"observableFromPromise",{enumerable:!0,get:function(){return A.$dd}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return A.$id}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return A.$hd}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return A.$ed}}),Object.defineProperty(e,"wasEventTriggeredRecently",{enumerable:!0,get:function(){return A.$kd}}),!1&&(0,s.$pd)(new s.$rd)}),define(z[23],V([0,1,6,2]),function(q,e,N,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$be=e.$ae=e.$_d=e.$$d=e.$0d=e.$9d=e.$8d=e.$7d=e.$6d=e.$5d=e.$4d=e.$3d=e.$2d=e.$1d=e.$Zd=void 0;function v(j){const T=j;return T?typeof T.read=="function":!1}e.$Zd=v;function A(j){const T=j;return T?[T.on,T.pause,T.resume,T.destroy].every($=>typeof $=="function"):!1}e.$1d=A;function s(j){const T=j;return T?A(T.stream)&&Array.isArray(T.buffer)&&typeof T.ended=="boolean":!1}e.$2d=s;function l(j,T){return new t(j,T)}e.$3d=l;class t{constructor(T,$){this.e=T,this.f=$,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(T){if(!this.a.destroyed){if(this.a.flowing)this.g(T);else if(this.b.data.push(T),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise($=>this.d.push($))}}error(T){this.a.destroyed||(this.a.flowing?this.h(T):this.b.error.push(T))}end(T){this.a.destroyed||(typeof T<"u"&&this.write(T),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(T){this.c.data.slice(0).forEach($=>$(T))}h(T){this.c.error.length===0?(0,N.$1)(T):this.c.error.slice(0).forEach($=>$(T))}i(){this.c.end.slice(0).forEach(T=>T())}on(T,$){if(!this.a.destroyed)switch(T){case"data":this.c.data.push($),this.resume();break;case"end":this.c.end.push($),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push($),this.a.flowing&&this.k();break}}removeListener(T,$){if(this.a.destroyed)return;let y;switch(T){case"data":y=this.c.data;break;case"end":y=this.c.end;break;case"error":y=this.c.error;break}if(y){const f=y.indexOf($);f>=0&&y.splice(f,1)}}j(){if(this.b.data.length>0){const T=this.e(this.b.data);this.g(T),this.b.data.length=0;const $=[...this.d];this.d.length=0,$.forEach(y=>y())}}k(){if(this.c.error.length>0){for(const T of this.b.error)this.h(T);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function r(j,T){const $=[];let y;for(;(y=j.read())!==null;)$.push(y);return T($)}e.$4d=r;function h(j,T,$){const y=[];let f;for(;(f=j.read())!==null&&y.length<$;)y.push(f);return f===null&&y.length>0?T(y):{read:()=>{if(y.length>0)return y.shift();if(typeof f<"u"){const m=f;return f=void 0,m}return j.read()}}}e.$5d=h;function o(j,T){return new Promise(($,y)=>{const f=[];g(j,{onData:m=>{T&&f.push(m)},onError:m=>{T?y(m):$(void 0)},onEnd:()=>{$(T?T(f):void 0)}})})}e.$6d=o;function g(j,T,$){j.on("error",y=>{$?.isCancellationRequested||T.onError(y)}),j.on("end",()=>{$?.isCancellationRequested||T.onEnd()}),j.on("data",y=>{$?.isCancellationRequested||T.onData(y)})}e.$7d=g;function c(j,T){return new Promise(($,y)=>{const f=new k.$Rc,m=[],P=L=>{if(m.push(L),m.length>T)return f.dispose(),j.pause(),$({stream:j,buffer:m,ended:!1})},d=L=>(f.dispose(),y(L)),S=()=>(f.dispose(),$({stream:j,buffer:m,ended:!0}));f.add((0,k.$Qc)(()=>j.removeListener("error",d))),j.on("error",d),f.add((0,k.$Qc)(()=>j.removeListener("end",S))),j.on("end",S),f.add((0,k.$Qc)(()=>j.removeListener("data",P))),j.on("data",P)})}e.$8d=c;function n(j,T){const $=l(T);return $.end(j),$}e.$9d=n;function i(){const j=l(()=>{throw new Error("not supported")});return j.end(),j}e.$0d=i;function a(j){let T=!1;return{read:()=>T?null:(T=!0,j)}}e.$$d=a;function w(j,T,$){const y=l($);return g(j,{onData:f=>y.write(T.data(f)),onError:f=>y.error(T.error?T.error(f):f),onEnd:()=>y.end()}),y}e.$_d=w;function I(j,T,$){let y=!1;return{read:()=>{const f=T.read();return y?f:(y=!0,f!==null?$([j,f]):j)}}}e.$ae=I;function U(j,T,$){let y=!1;const f=l($);return g(T,{onData:m=>y?f.write(m):(y=!0,f.write($([j,m]))),onError:m=>f.error(m),onEnd:()=>{y||(y=!0,f.write(j)),f.end()}}),f}e.$be=U}),define(z[12],V([0,1,43,23]),function(q,e,N,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$we=e.$ve=e.$ue=e.$te=e.$se=e.$re=e.$qe=e.$pe=e.$oe=e.$ne=e.$me=e.$le=e.$ke=e.$je=e.$ie=e.$he=e.$ge=e.$fe=e.$ee=e.$de=e.$ce=void 0;const v=typeof Buffer<"u",A=new N.$V(()=>new Uint8Array(256));let s,l;class t{static alloc(b){return v?new t(Buffer.allocUnsafe(b)):new t(new Uint8Array(b))}static wrap(b){return v&&!Buffer.isBuffer(b)&&(b=Buffer.from(b.buffer,b.byteOffset,b.byteLength)),new t(b)}static fromString(b,B){return!(B?.dontUseNodeBuffer||!1)&&v?new t(Buffer.from(b)):(s||(s=new TextEncoder),new t(s.encode(b)))}static fromByteArray(b){const B=t.alloc(b.length);for(let p=0,K=b.length;p<K;p++)B.buffer[p]=b[p];return B}static concat(b,B){if(typeof B>"u"){B=0;for(let _=0,H=b.length;_<H;_++)B+=b[_].byteLength}const p=t.alloc(B);let K=0;for(let _=0,H=b.length;_<H;_++){const W=b[_];p.set(W,K),K+=W.byteLength}return p}constructor(b){this.buffer=b,this.byteLength=this.buffer.byteLength}clone(){const b=t.alloc(this.byteLength);return b.set(this),b}toString(){return v?this.buffer.toString():(l||(l=new TextDecoder),l.decode(this.buffer))}slice(b,B){return new t(this.buffer.subarray(b,B))}set(b,B){if(b instanceof t)this.buffer.set(b.buffer,B);else if(b instanceof Uint8Array)this.buffer.set(b,B);else if(b instanceof ArrayBuffer)this.buffer.set(new Uint8Array(b),B);else if(ArrayBuffer.isView(b))this.buffer.set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),B);else throw new Error("Unknown argument 'array'")}readUInt32BE(b){return g(this.buffer,b)}writeUInt32BE(b,B){c(this.buffer,b,B)}readUInt32LE(b){return n(this.buffer,b)}writeUInt32LE(b,B){i(this.buffer,b,B)}readUInt8(b){return a(this.buffer,b)}writeUInt8(b,B){w(this.buffer,b,B)}indexOf(b,B=0){return r(this.buffer,b instanceof t?b.buffer:b,B)}}e.$ce=t;function r(O,b,B=0){const p=b.byteLength,K=O.byteLength;if(p===0)return 0;if(p===1)return O.indexOf(b[0]);if(p>K-B)return-1;const _=A.value;_.fill(b.length);for(let X=0;X<b.length;X++)_[b[X]]=b.length-X-1;let H=B+b.length-1,W=H,G=-1;for(;H<K;)if(O[H]===b[W]){if(W===0){G=H;break}H--,W--}else H+=Math.max(b.length-W,_[O[H]]),W=b.length-1;return G}e.$de=r;function h(O,b){return O[b+0]<<0>>>0|O[b+1]<<8>>>0}e.$ee=h;function o(O,b,B){O[B+0]=b&255,b=b>>>8,O[B+1]=b&255}e.$fe=o;function g(O,b){return O[b]*2**24+O[b+1]*2**16+O[b+2]*2**8+O[b+3]}e.$ge=g;function c(O,b,B){O[B+3]=b,b=b>>>8,O[B+2]=b,b=b>>>8,O[B+1]=b,b=b>>>8,O[B]=b}e.$he=c;function n(O,b){return O[b+0]<<0>>>0|O[b+1]<<8>>>0|O[b+2]<<16>>>0|O[b+3]<<24>>>0}e.$ie=n;function i(O,b,B){O[B+0]=b&255,b=b>>>8,O[B+1]=b&255,b=b>>>8,O[B+2]=b&255,b=b>>>8,O[B+3]=b&255}e.$je=i;function a(O,b){return O[b]}e.$ke=a;function w(O,b,B){O[B]=b}e.$le=w;function I(O){return k.$4d(O,b=>t.concat(b))}e.$me=I;function U(O){return k.$$d(O)}e.$ne=U;function j(O){return k.$6d(O,b=>t.concat(b))}e.$oe=j;async function T(O){return O.ended?t.concat(O.buffer):t.concat([...O.buffer,await j(O.stream)])}e.$pe=T;function $(O){return k.$9d(O,b=>t.concat(b))}e.$qe=$;function y(O){return k.$_d(O,{data:b=>typeof b=="string"?t.fromString(b):t.wrap(b)},b=>t.concat(b))}e.$re=y;function f(O){return k.$3d(b=>t.concat(b),O)}e.$se=f;function m(O,b){return k.$ae(O,b,B=>t.concat(B))}e.$te=m;function P(O,b){return k.$be(O,b,B=>t.concat(B))}e.$ue=P;function d(O){let b=0,B=0,p=0;const K=new Uint8Array(Math.floor(O.length/4*3)),_=W=>{switch(B){case 3:K[p++]=b|W,B=0;break;case 2:K[p++]=b|W>>>2,b=W<<6,B=3;break;case 1:K[p++]=b|W>>>4,b=W<<4,B=2;break;default:b=W<<2,B=1}};for(let W=0;W<O.length;W++){const G=O.charCodeAt(W);if(G>=65&&G<=90)_(G-65);else if(G>=97&&G<=122)_(G-97+26);else if(G>=48&&G<=57)_(G-48+52);else if(G===43||G===45)_(62);else if(G===47||G===95)_(63);else{if(G===61)break;throw new SyntaxError(`Unexpected base64 character ${O[W]}`)}}const H=p;for(;B>0;)_(0);return t.wrap(K).slice(0,H)}e.$ve=d;const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function F({buffer:O},b=!0,B=!1){const p=B?L:S;let K="";const _=O.byteLength%3;let H=0;for(;H<O.byteLength-_;H+=3){const W=O[H+0],G=O[H+1],X=O[H+2];K+=p[W>>>2],K+=p[(W<<4|G>>>4)&63],K+=p[(G<<2|X>>>6)&63],K+=p[X&63]}if(_===1){const W=O[H+0];K+=p[W>>>2],K+=p[W<<4&63],b&&(K+="==")}else if(_===2){const W=O[H+0],G=O[H+1];K+=p[W>>>2],K+=p[(W<<4|G>>>4)&63],K+=p[G<<2&63],b&&(K+="=")}return K}e.$we=F}),define(z[24],V([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ld=void 0,e.$Ld=Symbol("MicrotaskDelay")}),define(z[25],V([0,1,26,3,27,44]),function(q,e,N,k,v,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$7f=e.$6f=e.$5f=e.$4f=e.$3f=e.$2f=e.$1f=e.$Zf=e.$Yf=e.$Xf=e.$Wf=e.$Vf=e.$Uf=e.$Tf=e.$Sf=e.$Rf=void 0;function s(d){return d===47||d===92}e.$Rf=s;function l(d){return d.replace(/[\\/]/g,N.$gc.sep)}e.$Sf=l;function t(d){return d.indexOf("/")===-1&&(d=l(d)),/^[a-zA-Z]:(\/|$)/.test(d)&&(d="/"+d),d}e.$Tf=t;function r(d,S=N.$gc.sep){if(!d)return"";const L=d.length,F=d.charCodeAt(0);if(s(F)){if(s(d.charCodeAt(1))&&!s(d.charCodeAt(2))){let b=3;const B=b;for(;b<L&&!s(d.charCodeAt(b));b++);if(B!==b&&!s(d.charCodeAt(b+1))){for(b+=1;b<L;b++)if(s(d.charCodeAt(b)))return d.slice(0,b+1).replace(/[\\/]/g,S)}}return S}else if(w(F)&&d.charCodeAt(1)===58)return s(d.charCodeAt(2))?d.slice(0,2)+S:d.slice(0,2);let O=d.indexOf("://");if(O!==-1){for(O+=3;O<L;O++)if(s(d.charCodeAt(O)))return d.slice(0,O+1)}return""}e.$Uf=r;function h(d){if(!k.$d||!d||d.length<5)return!1;let S=d.charCodeAt(0);if(S!==92||(S=d.charCodeAt(1),S!==92))return!1;let L=2;const F=L;for(;L<d.length&&(S=d.charCodeAt(L),S!==92);L++);return!(F===L||(S=d.charCodeAt(L+1),isNaN(S)||S===92))}e.$Vf=h;const o=/[\\/:\*\?"<>\|]/g,g=/[\\/]/g,c=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function n(d,S=k.$d){const L=S?o:g;return!(!d||d.length===0||/^\s+$/.test(d)||(L.lastIndex=0,L.test(d))||S&&c.test(d)||d==="."||d===".."||S&&d[d.length-1]==="."||S&&d.length!==d.trim().length||d.length>255)}e.$Wf=n;function i(d,S,L){const F=d===S;return!L||F?F:!d||!S?!1:(0,v.$3e)(d,S)}e.$Xf=i;function a(d,S,L,F=N.sep){if(d===S)return!0;if(!d||!S||S.length>d.length)return!1;if(L){if(!(0,v.$4e)(d,S))return!1;if(S.length===d.length)return!0;let b=S.length;return S.charAt(S.length-1)===F&&b--,d.charAt(b)===F}return S.charAt(S.length-1)!==F&&(S+=F),d.indexOf(S)===0}e.$Yf=a;function w(d){return d>=65&&d<=90||d>=97&&d<=122}e.$Zf=w;function I(d,S){return k.$d&&d.endsWith(":")&&(d+=N.sep),(0,N.$ic)(d)||(d=(0,N.$jc)(S,d)),d=(0,N.$hc)(d),k.$d?(d=(0,v.$Le)(d,N.sep),d.endsWith(":")&&(d+=N.sep)):(d=(0,v.$Le)(d,N.sep),d||(d=N.sep)),d}e.$1f=I;function U(d){const S=(0,N.$hc)(d);return k.$d?d.length>3?!1:j(S)&&(d.length===2||S.charCodeAt(2)===92):S===N.$gc.sep}e.$2f=U;function j(d,S=k.$d){return S?w(d.charCodeAt(0))&&d.charCodeAt(1)===58:!1}e.$3f=j;function T(d,S=k.$d){return j(d,S)?d[0]:void 0}e.$4f=T;function $(d,S,L){return S.length>d.length?-1:d===S?0:(L&&(d=d.toLowerCase(),S=S.toLowerCase()),d.indexOf(S))}e.$5f=$;function y(d){const S=d.split(":");let L,F,O;for(const b of S){const B=Number(b);(0,A.$Df)(B)?F===void 0?F=B:O===void 0&&(O=B):L=L?[L,b].join(":"):b}if(!L)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:L,line:F!==void 0?F:void 0,column:O!==void 0?O:F!==void 0?1:void 0}}e.$6f=y;const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function P(d,S,L=8){let F="";for(let b=0;b<L;b++){let B;b===0&&k.$d&&!S&&(L===3||L===4)?B=m:B=f,F+=B.charAt(Math.floor(Math.random()*B.length))}let O;return S?O=`${S}-${F}`:O=F,d?(0,N.$jc)(d,O):O}e.$7f=P}),define(z[13],V([0,1,6,3,7]),function(q,e,N,k,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$dg=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=e.$8f=e.Schemas=void 0;var A;(function(r){r.inMemory="inmemory",r.vscode="vscode",r.internal="private",r.walkThrough="walkThrough",r.walkThroughSnippet="walkThroughSnippet",r.http="http",r.https="https",r.file="file",r.mailto="mailto",r.untitled="untitled",r.data="data",r.command="command",r.vscodeRemote="vscode-remote",r.vscodeRemoteResource="vscode-remote-resource",r.vscodeManagedRemoteResource="vscode-managed-remote-resource",r.vscodeUserData="vscode-userdata",r.vscodeCustomEditor="vscode-custom-editor",r.vscodeNotebookCell="vscode-notebook-cell",r.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",r.vscodeNotebookCellOutput="vscode-notebook-cell-output",r.vscodeInteractiveInput="vscode-interactive-input",r.vscodeSettings="vscode-settings",r.vscodeWorkspaceTrust="vscode-workspace-trust",r.vscodeTerminal="vscode-terminal",r.vscodeChatSesssion="vscode-chat-editor",r.webviewPanel="webview-panel",r.vscodeWebview="vscode-webview",r.extension="extension",r.vscodeFileResource="vscode-file",r.tmp="tmp",r.vsls="vsls",r.vscodeSourceControl="vscode-scm"})(A||(e.Schemas=A={})),e.$8f="vscode-tkn",e.$9f="tkn";class s{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${A.vscodeRemoteResource}`}setPreferredWebSchema(h){this.d=h}setDelegate(h){this.e=h}setServerRootPath(h){this.f=`${h}/${A.vscodeRemoteResource}`}set(h,o,g){this.a[h]=o,this.b[h]=g}setConnectionToken(h,o){this.c[h]=o}getPreferredWebSchema(){return this.d}rewrite(h){if(this.e)try{return this.e(h)}catch(a){return N.$1(a),h}const o=h.authority;let g=this.a[o];g&&g.indexOf(":")!==-1&&g.indexOf("[")===-1&&(g=`[${g}]`);const c=this.b[o],n=this.c[o];let i=`path=${encodeURIComponent(h.path)}`;return typeof n=="string"&&(i+=`&${e.$9f}=${encodeURIComponent(n)}`),v.URI.from({scheme:k.$j?this.d:A.vscodeRemoteResource,authority:`${g}:${c}`,path:k.$j?(window.location.pathname+"/"+this.f).replace(/\/\/+/g,"/"):this.f,query:i})}}e.$0f=new s,e.$$f="vs/../../extensions",e.$_f="vs/../../node_modules",e.$ag="vs/../../node_modules.asar",e.$bg="vs/../../node_modules.asar.unpacked",e.$cg="vscode-app";class l{asBrowserUri(h){const o=this.b(h,q);return this.uriToBrowserUri(o)}uriToBrowserUri(h){return h.scheme===A.vscodeRemote?e.$0f.rewrite(h):h.scheme===A.file&&(k.$h||k.$k&&k.$b.origin===`${A.vscodeFileResource}://${l.a}`)?h.with({scheme:A.vscodeFileResource,authority:h.authority||l.a,query:null,fragment:null}):h}asFileUri(h){const o=this.b(h,q);return this.uriToFileUri(o)}uriToFileUri(h){return h.scheme===A.vscodeFileResource?h.with({scheme:A.file,authority:h.authority!==l.a?h.authority:null,query:null,fragment:null}):h}b(h,o){return v.URI.isUri(h)?h:v.URI.parse(o.toUrl(h))}}l.a=e.$cg,e.$dg=new l;var t;(function(r){const h=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);r.CoopAndCoep=Object.freeze(h.get("3"));const o="vscode-coi";function g(n){let i;typeof n=="string"?i=new URL(n).searchParams:n instanceof URL?i=n.searchParams:v.URI.isUri(n)&&(i=new URL(n.toString(!0)).searchParams);const a=i?.get(o);if(a)return h.get(a)}r.getHeadersFromQuery=g;function c(n,i,a){if(!globalThis.crossOriginIsolated)return;const w=i&&a?"3":a?"2":"1";n instanceof URLSearchParams?n.set(o,w):n[o]=w}r.addSearchParam=c})(t||(e.COI=t={}))}),define(z[28],V([0,1,21,13,3,7]),function(q,e,N,k,v,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$AC=void 0;class s{constructor(g,c,n){this.id=g,this.dependencies=c,this.callback=n}}class l{constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(g,c,n)=>{typeof g!="string"&&(n=c,c=g,g=null),(typeof c!="object"||!Array.isArray(c))&&(n=c,c=null),this.c.push(new s(g,c,n))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(g){if(g.startsWith(window.location.origin)||g.startsWith("vscode-file://vscode-app"))return g;throw new Error(`[trusted_script_src] Invalid script url: ${g}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(g){return g}})))}async load(g){this.g();const c=await(this.a?this.i(g):this.b?this.h(g):this.j(g));if(!c)throw new Error(`Did not receive a define call from script ${g}`);if(Array.isArray(c.dependencies)&&c.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${g}. The dependencies are: ${c.dependencies.join(", ")}`);return typeof c.callback=="function"?c.callback([]):c.callback}h(g){return new Promise((c,n)=>{const i=document.createElement("script");i.setAttribute("async","async"),i.setAttribute("type","text/javascript");const a=()=>{i.removeEventListener("load",w),i.removeEventListener("error",I)},w=U=>{a(),c(this.c.pop())},I=U=>{a(),n(U)};i.addEventListener("load",w),i.addEventListener("error",I),this.f&&(g=this.f.createScriptURL(g)),i.setAttribute("src",g),document.getElementsByTagName("head")[0].appendChild(i)})}i(g){return new Promise((c,n)=>{try{this.f&&(g=this.f.createScriptURL(g)),importScripts(g),c(this.c.pop())}catch(i){n(i)}})}async j(g){try{const c=globalThis._VSCODE_NODE_MODULES.fs,n=globalThis._VSCODE_NODE_MODULES.vm,i=globalThis._VSCODE_NODE_MODULES.module,a=A.URI.parse(g).fsPath,w=c.readFileSync(a).toString(),I=i.wrap(w.replace(/^#!.*/,""));return new n.Script(I).runInThisContext().apply(),this.c.pop()}catch(c){throw c}}}l.INSTANCE=new l;const t=new Map;let r={};typeof globalThis.require=="object"&&(r=globalThis.require.paths??{});async function h(o,g,c){if(N.$T){c===void 0&&(c=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),r[o]&&(o=r[o]);const n=`${o}/${g}`;if(t.has(n))return t.get(n);let i;if(/^\w[\w\d+.-]*:\/\//.test(n))i=n;else{const U=`${c&&!v.$j?k.$ag:k.$_f}/${n}`;i=k.$dg.asBrowserUri(U).toString(!0)}const a=l.INSTANCE.load(i);return t.set(n,a),a}else return await new Promise((n,i)=>{q([o],n,i)})}e.$AC=h}),define(z[14],V([0,1,25,13,26,3,27,7]),function(q,e,N,k,v,A,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Gg=e.DataUri=e.$Fg=e.$Eg=e.$Dg=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=e.$wg=e.$vg=e.$ug=e.$tg=e.$sg=e.$rg=e.$qg=e.$pg=e.$og=e.$ng=e.$mg=e.$lg=e.$kg=void 0;function t(c){return(0,l.$wc)(c,!0)}e.$kg=t;class r{constructor(n){this.a=n}compare(n,i,a=!1){return n===i?0:(0,s.$Ve)(this.getComparisonKey(n,a),this.getComparisonKey(i,a))}isEqual(n,i,a=!1){return n===i?!0:!n||!i?!1:this.getComparisonKey(n,a)===this.getComparisonKey(i,a)}getComparisonKey(n,i=!1){return n.with({path:this.a(n)?n.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}ignorePathCasing(n){return this.a(n)}isEqualOrParent(n,i,a=!1){if(n.scheme===i.scheme){if(n.scheme===k.Schemas.file)return N.$Yf(t(n),t(i),this.a(n))&&n.query===i.query&&(a||n.fragment===i.fragment);if((0,e.$Bg)(n.authority,i.authority))return N.$Yf(n.path,i.path,this.a(n),"/")&&n.query===i.query&&(a||n.fragment===i.fragment)}return!1}joinPath(n,...i){return l.URI.joinPath(n,...i)}basenameOrAuthority(n){return(0,e.$tg)(n)||n.authority}basename(n){return v.$gc.basename(n.path)}extname(n){return v.$gc.extname(n.path)}dirname(n){if(n.path.length===0)return n;let i;return n.scheme===k.Schemas.file?i=l.URI.file(v.$mc(t(n))).path:(i=v.$gc.dirname(n.path),n.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${n.toString})) resulted in a relative path`),i="/")),n.with({path:i})}normalizePath(n){if(!n.path.length)return n;let i;return n.scheme===k.Schemas.file?i=l.URI.file(v.$hc(t(n))).path:i=v.$gc.normalize(n.path),n.with({path:i})}relativePath(n,i){if(n.scheme!==i.scheme||!(0,e.$Bg)(n.authority,i.authority))return;if(n.scheme===k.Schemas.file){const I=v.$lc(t(n),t(i));return A.$d?N.$Sf(I):I}let a=n.path||"/";const w=i.path||"/";if(this.a(n)){let I=0;for(const U=Math.min(a.length,w.length);I<U&&!(a.charCodeAt(I)!==w.charCodeAt(I)&&a.charAt(I).toLowerCase()!==w.charAt(I).toLowerCase());I++);a=w.substr(0,I)+a.substr(I)}return v.$gc.relative(a,w)}resolvePath(n,i){if(n.scheme===k.Schemas.file){const a=l.URI.file(v.$kc(t(n),i));return n.with({authority:a.authority,path:a.path})}return i=N.$Tf(i),n.with({path:v.$gc.resolve(n.path,i)})}isAbsolutePath(n){return!!n.path&&n.path[0]==="/"}isEqualAuthority(n,i){return n===i||n!==void 0&&i!==void 0&&(0,s.$3e)(n,i)}hasTrailingPathSeparator(n,i=v.sep){if(n.scheme===k.Schemas.file){const a=t(n);return a.length>N.$Uf(a).length&&a[a.length-1]===i}else{const a=n.path;return a.length>1&&a.charCodeAt(a.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(n.fsPath)}}removeTrailingPathSeparator(n,i=v.sep){return(0,e.$Cg)(n,i)?n.with({path:n.path.substr(0,n.path.length-1)}):n}addTrailingPathSeparator(n,i=v.sep){let a=!1;if(n.scheme===k.Schemas.file){const w=t(n);a=w!==void 0&&w.length===N.$Uf(w).length&&w[w.length-1]===i}else{i="/";const w=n.path;a=w.length===1&&w.charCodeAt(w.length-1)===47}return!a&&!(0,e.$Cg)(n,i)?n.with({path:n.path+"/"}):n}}e.$lg=r,e.$mg=new r(()=>!1),e.$ng=new r(c=>c.scheme===k.Schemas.file?!A.$f:!0),e.$og=new r(c=>!0),e.$pg=e.$mg.isEqual.bind(e.$mg),e.$qg=e.$mg.isEqualOrParent.bind(e.$mg),e.$rg=e.$mg.getComparisonKey.bind(e.$mg),e.$sg=e.$mg.basenameOrAuthority.bind(e.$mg),e.$tg=e.$mg.basename.bind(e.$mg),e.$ug=e.$mg.extname.bind(e.$mg),e.$vg=e.$mg.dirname.bind(e.$mg),e.$wg=e.$mg.joinPath.bind(e.$mg),e.$xg=e.$mg.normalizePath.bind(e.$mg),e.$yg=e.$mg.relativePath.bind(e.$mg),e.$zg=e.$mg.resolvePath.bind(e.$mg),e.$Ag=e.$mg.isAbsolutePath.bind(e.$mg),e.$Bg=e.$mg.isEqualAuthority.bind(e.$mg),e.$Cg=e.$mg.hasTrailingPathSeparator.bind(e.$mg),e.$Dg=e.$mg.removeTrailingPathSeparator.bind(e.$mg),e.$Eg=e.$mg.addTrailingPathSeparator.bind(e.$mg);function h(c,n){const i=[];for(let a=0;a<c.length;a++){const w=n(c[a]);c.some((I,U)=>U===a?!1:(0,e.$qg)(w,n(I)))||i.push(c[a])}return i}e.$Fg=h;var o;(function(c){c.META_DATA_LABEL="label",c.META_DATA_DESCRIPTION="description",c.META_DATA_SIZE="size",c.META_DATA_MIME="mime";function n(i){const a=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(U=>{const[j,T]=U.split(":");j&&T&&a.set(j,T)});const I=i.path.substring(0,i.path.indexOf(";"));return I&&a.set(c.META_DATA_MIME,I),a}c.parseMetaData=n})(o||(e.DataUri=o={}));function g(c,n,i){if(n){let a=c.path;return a&&a[0]!==v.$gc.sep&&(a=v.$gc.sep+a),c.with({scheme:i,authority:n,path:a})}return c.with({scheme:i})}e.$Gg=g}),define(z[15],V([0,1,45,6,29,2,14,3,24]),function(q,e,N,k,v,A,s,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$hh=e.$gh=e.$fh=e.$eh=e.Promises=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=e.$8g=e.$7g=e.$6g=e.$5g=e.$4g=e.$3g=e.$2g=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=e.$Tg=e.$Sg=e.$Rg=e.$Qg=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=void 0;function r(M){return!!M&&typeof M.then=="function"}e.$Hg=r;function h(M){const u=new N.$Yd,E=M(u.token),C=new Promise((R,D)=>{const Y=u.token.onCancellationRequested(()=>{Y.dispose(),u.dispose(),D(new k.$5)});Promise.resolve(E).then(Q=>{Y.dispose(),u.dispose(),R(Q)},Q=>{Y.dispose(),u.dispose(),D(Q)})});return new class{cancel(){u.cancel()}then(R,D){return C.then(R,D)}catch(R){return this.then(void 0,R)}finally(R){return C.finally(R)}}}e.$Ig=h;function o(M,u,E){return new Promise((C,R)=>{const D=u.onCancellationRequested(()=>{D.dispose(),C(E)});M.then(C,R).finally(()=>D.dispose())})}e.$Jg=o;function g(M,u){return new Promise((E,C)=>{const R=u.onCancellationRequested(()=>{R.dispose(),C(new k.$5)});M.then(E,C).finally(()=>R.dispose())})}e.$Kg=g;async function c(M){let u=-1;const E=M.map((C,R)=>C.then(D=>(u=R,D)));try{return await Promise.race(E)}finally{M.forEach((C,R)=>{R!==u&&C.cancel()})}}e.$Lg=c;function n(M,u,E){let C;const R=setTimeout(()=>{C?.(void 0),E?.()},u);return Promise.race([M.finally(()=>clearTimeout(R)),new Promise(D=>C=D)])}e.$Mg=n;function i(M){return new Promise((u,E)=>{const C=M();r(C)?C.then(u,E):u(C)})}e.$Ng=i;class a{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(u){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=u,!this.b){const E=()=>{if(this.b=null,this.f)return;const C=this.queue(this.d);return this.d=null,C};this.b=new Promise(C=>{this.a.then(E,E).then(C)})}return new Promise((E,C)=>{this.b.then(E,C)})}return this.a=u(),new Promise((E,C)=>{this.a.then(R=>{this.a=null,E(R)},R=>{this.a=null,C(R)})})}dispose(){this.f=!0}}e.$Og=a;class w{constructor(){this.a=Promise.resolve(null)}queue(u){return this.a=this.a.then(()=>u(),()=>u())}}e.$Pg=w;class I{constructor(){this.a=new Map}queue(u,E){const R=(this.a.get(u)??Promise.resolve()).catch(()=>{}).then(E).finally(()=>{this.a.get(u)===R&&this.a.delete(u)});return this.a.set(u,R),R}}e.$Qg=I;const U=(M,u)=>{let E=!0;const C=setTimeout(()=>{E=!1,u()},M);return{isTriggered:()=>E,dispose:()=>{clearTimeout(C),E=!1}}},j=M=>{let u=!0;return queueMicrotask(()=>{u&&(u=!1,M())}),{isTriggered:()=>u,dispose:()=>{u=!1}}};class T{constructor(u){this.defaultDelay=u,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(u,E=this.defaultDelay){this.g=u,this.h(),this.b||(this.b=new Promise((R,D)=>{this.d=R,this.f=D}).then(()=>{if(this.b=null,this.d=null,this.g){const R=this.g;return this.g=null,R()}}));const C=()=>{this.a=null,this.d?.(null)};return this.a=E===t.$Ld?j(C):U(E,C),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new k.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$Rg=T;class ${constructor(u){this.a=new T(u),this.b=new a}trigger(u,E){return this.a.trigger(()=>this.b.queue(u),E)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$Sg=$;class y{constructor(){this.a=!1,this.b=new Promise((u,E)=>{this.d=u})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$Tg=y;class f extends y{constructor(u){super(),this.f=setTimeout(()=>this.open(),u)}open(){clearTimeout(this.f),super.open()}}e.$Ug=f;function m(M,u){return u?new Promise((E,C)=>{const R=setTimeout(()=>{D.dispose(),E()},M),D=u.onCancellationRequested(()=>{clearTimeout(R),D.dispose(),C(new k.$5)})}):h(E=>m(M,E))}e.$Vg=m;function P(M,u=0,E){const C=setTimeout(()=>{M(),E&&R.dispose()},u),R=(0,A.$Qc)(()=>{clearTimeout(C),E?.deleteAndLeak(R)});return E?.add(R),R}e.$Wg=P;function d(M){const u=[];let E=0;const C=M.length;function R(){return E<C?M[E++]():null}function D(Y){Y!=null&&u.push(Y);const Q=R();return Q?Q.then(D):Promise.resolve(u)}return Promise.resolve(null).then(D)}e.$Xg=d;function S(M,u=C=>!!C,E=null){let C=0;const R=M.length,D=()=>{if(C>=R)return Promise.resolve(E);const Y=M[C++];return Promise.resolve(Y()).then(J=>u(J)?Promise.resolve(J):D())};return D()}e.$Yg=S;function L(M,u=C=>!!C,E=null){if(M.length===0)return Promise.resolve(E);let C=M.length;const R=()=>{C=-1;for(const D of M)D.cancel?.()};return new Promise((D,Y)=>{for(const Q of M)Q.then(J=>{--C>=0&&u(J)?(R(),D(J)):C===0&&D(E)}).catch(J=>{--C>=0&&(R(),Y(J))})})}e.$Zg=L;class F{constructor(u){this.a=0,this.d=u,this.f=[],this.b=0,this.g=new v.$Od}get onDrained(){return this.g.event}get size(){return this.a}queue(u){return this.a++,new Promise((E,C)=>{this.f.push({factory:u,c:E,e:C}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const u=this.f.shift();this.b++;const E=u.factory();E.then(u.c,u.e),E.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}e.$1g=F;class O extends F{constructor(){super(1)}}e.$2g=O;class b{constructor(){this.a=new ee,this.b=0}queue(u){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,u())):this.a.run(this.b++,u())}}e.$3g=b;class B{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const u=new x;return this.b.add(u),u.p}g(){for(const[,u]of this.a)if(u.size>0)return!1;return!0}queueFor(u,E=s.$mg){const C=E.getComparisonKey(u);let R=this.a.get(C);if(!R){R=new O;const D=this.f++,Y=v.Event.once(R.onDrained)(()=>{R?.dispose(),this.a.delete(C),this.h(),this.d?.deleteAndDispose(D),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new A.$1c),this.d.set(D,Y),this.a.set(C,R)}return R}h(){this.g()&&this.j()}j(){for(const u of this.b)u.complete();this.b.clear()}dispose(){for(const[,u]of this.a)u.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$4g=B;class p{constructor(u,E){this.a=-1,typeof u=="function"&&typeof E=="number"&&this.setIfNotSet(u,E)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(u,E){this.cancel(),this.a=setTimeout(()=>{this.a=-1,u()},E)}setIfNotSet(u,E){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,u()},E))}}e.$5g=p;class K{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(u,E){this.cancel(),this.a=setInterval(()=>{u()},E)}}e.$6g=K;class _{constructor(u,E){this.b=-1,this.a=u,this.d=E,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(u=this.d){this.cancel(),this.b=setTimeout(this.f,u)}get delay(){return this.d}set delay(u){this.d=u}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$7g=_;class H{constructor(u,E){E%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${E}ms is not a multiple of 1000ms.`),this.a=u,this.b=E,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(u=this.b){u%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${u}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(u/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$8g=H;class W extends _{constructor(u,E){super(u,E),this.j=[]}work(u){this.j.push(u),this.isScheduled()||this.schedule()}h(){const u=this.j;this.j=[],this.a?.(u)}dispose(){this.j=[],super.dispose()}}e.$9g=W;class G extends A.$Sc{constructor(u,E){super(),this.g=u,this.h=E,this.a=[],this.b=this.B(new A.$Tc),this.f=!1}get pending(){return this.a.length}work(u){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+u.length>this.g.maxBufferedWork)return!1}else if(this.pending+u.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const E of u)this.a.push(E);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new _(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$0g=G,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.$$g=M=>{(0,l.$v)(()=>{if(u)return;const E=Date.now()+15;M(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,E-Date.now())}}))});let u=!1;return{dispose(){u||(u=!0)}}}:e.$$g=(M,u)=>{const E=requestIdleCallback(M,typeof u=="number"?{timeout:u}:void 0);let C=!1;return{dispose(){C||(C=!0,cancelIdleCallback(E))}}}}();class X{constructor(u){this.d=!1,this.a=()=>{try{this.f=u()}catch(E){this.g=E}finally{this.d=!0}},this.b=(0,e.$$g)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}e.$_g=X;async function re(M,u,E){let C;for(let R=0;R<E;R++)try{return await M()}catch(D){C=D,await m(u)}throw C}e.$ah=re;class ee{isRunning(u){return typeof u=="number"?this.a?.taskId===u:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(u,E,C){return this.a={taskId:u,cancel:()=>C?.(),promise:E},E.then(()=>this.d(u),()=>this.d(u)),E}d(u){this.a&&u===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const u=this.b;this.b=void 0,u.run().then(u.promiseResolve,u.promiseReject)}}queue(u){if(this.b)this.b.run=u;else{let E,C;const R=new Promise((D,Y)=>{E=D,C=Y});this.b={run:u,promise:R,promiseResolve:E,promiseReject:C}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$bh=ee;class ae{constructor(u,E=()=>Date.now()){this.d=u,this.f=E,this.a=0,this.b=0}increment(){const u=this.f();return u-this.a>this.d&&(this.a=u,this.b=0),this.b++,this.b}}e.$ch=ae;var te;(function(M){M[M.Resolved=0]="Resolved",M[M.Rejected=1]="Rejected"})(te||(te={}));class x{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((u,E)=>{this.a=u,this.b=E})}complete(u){return new Promise(E=>{this.a(u),this.d={outcome:0,value:u},E()})}error(u){return new Promise(E=>{this.b(u),this.d={outcome:1,value:u},E()})}cancel(){return this.error(new k.$5)}}e.$dh=x;var ne;(function(M){async function u(C){let R;const D=await Promise.all(C.map(Y=>Y.then(Q=>Q,Q=>{R||(R=Q)})));if(typeof R<"u")throw R;return D}M.settled=u;function E(C){return new Promise(async(R,D)=>{try{await C(R,D)}catch(Y){D(Y)}})}M.withAsyncBody=E})(ne||(e.Promises=ne={}));var ie;(function(M){M[M.Initial=0]="Initial",M[M.DoneOK=1]="DoneOK",M[M.DoneError=2]="DoneError"})(ie||(ie={}));class Z{static fromArray(u){return new Z(E=>{E.emitMany(u)})}static fromPromise(u){return new Z(async E=>{E.emitMany(await u)})}static fromPromises(u){return new Z(async E=>{await Promise.all(u.map(async C=>E.emitOne(await C)))})}static merge(u){return new Z(async E=>{await Promise.all(u.map(async C=>{for await(const R of C)E.emitOne(R)}))})}constructor(u){this.a=0,this.b=[],this.d=null,this.f=new v.$Od,queueMicrotask(async()=>{const E={emitOne:C=>this.g(C),emitMany:C=>this.h(C),reject:C=>this.k(C)};try{await Promise.resolve(u(E)),this.j()}catch(C){this.k(C)}finally{E.emitOne=void 0,E.emitMany=void 0,E.reject=void 0}})}[Symbol.asyncIterator](){let u=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(u<this.b.length)return{done:!1,value:this.b[u++]};if(this.a===1)return{done:!0,value:void 0};await v.Event.toPromise(this.f.event)}while(!0)}}}static map(u,E){return new Z(async C=>{for await(const R of u)C.emitOne(E(R))})}map(u){return Z.map(this,u)}static filter(u,E){return new Z(async C=>{for await(const R of u)E(R)&&C.emitOne(R)})}filter(u){return Z.filter(this,u)}static coalesce(u){return Z.filter(u,E=>!!E)}coalesce(){return Z.coalesce(this)}static async toPromise(u){const E=[];for await(const C of u)E.push(C);return E}toPromise(){return Z.toPromise(this)}g(u){this.a===0&&(this.b.push(u),this.f.fire())}h(u){this.a===0&&(this.b=this.b.concat(u),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(u){this.a===0&&(this.a=2,this.d=u,this.f.fire())}}e.$eh=Z,Z.EMPTY=Z.fromArray([]);class se extends Z{constructor(u,E){super(E),this.l=u}cancel(){this.l.cancel()}}e.$fh=se;function he(M){const u=new N.$Yd,E=M(u.token);return new se(u,async C=>{const R=u.token.onCancellationRequested(()=>{R.dispose(),u.dispose(),C.reject(new k.$5)});try{for await(const D of E){if(u.token.isCancellationRequested)return;C.emitOne(D)}R.dispose(),u.dispose()}catch(D){R.dispose(),u.dispose(),C.reject(D)}})}e.$gh=he;class oe{constructor(){this.a=new x,this.b=new Z(C=>{if(u){C.reject(u);return}return E&&C.emitMany(E),this.d=R=>C.reject(R),this.f=R=>C.emitOne(R),this.a.p});let u,E;this.f=C=>{E||(E=[]),E.push(C)},this.d=C=>{u||(u=C)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(u){this.d(u),this.a.complete()}emitOne(u){this.f(u)}}e.$hh=oe}),define(z[16],V([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$$s=e.StringEOL=void 0;var N;(function(v){v[v.Unknown=0]="Unknown",v[v.Invalid=3]="Invalid",v[v.LF=1]="LF",v[v.CRLF=2]="CRLF"})(N||(e.StringEOL=N={}));function k(v){let A=0,s=0,l=0,t=0;for(let r=0,h=v.length;r<h;r++){const o=v.charCodeAt(r);o===13?(A===0&&(s=r),A++,r+1<h&&v.charCodeAt(r+1)===10?(t|=2,r++):t|=3,l=r+1):o===10&&(t|=1,A===0&&(s=r),A++,l=r+1)}return A===0&&(s=v.length),[A,s,v.length-l,t]}e.$$s=k}),define(z[17],V([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9s=e.MetadataConsts=e.StandardTokenType=e.ColorId=e.FontStyle=e.LanguageId=void 0;var N;(function(t){t[t.Null=0]="Null",t[t.PlainText=1]="PlainText"})(N||(e.LanguageId=N={}));var k;(function(t){t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough"})(k||(e.FontStyle=k={}));var v;(function(t){t[t.None=0]="None",t[t.DefaultForeground=1]="DefaultForeground",t[t.DefaultBackground=2]="DefaultBackground"})(v||(e.ColorId=v={}));var A;(function(t){t[t.Other=0]="Other",t[t.Comment=1]="Comment",t[t.String=2]="String",t[t.RegEx=3]="RegEx"})(A||(e.StandardTokenType=A={}));var s;(function(t){t[t.LANGUAGEID_MASK=255]="LANGUAGEID_MASK",t[t.TOKEN_TYPE_MASK=768]="TOKEN_TYPE_MASK",t[t.BALANCED_BRACKETS_MASK=1024]="BALANCED_BRACKETS_MASK",t[t.FONT_STYLE_MASK=30720]="FONT_STYLE_MASK",t[t.FOREGROUND_MASK=16744448]="FOREGROUND_MASK",t[t.BACKGROUND_MASK=4278190080]="BACKGROUND_MASK",t[t.ITALIC_MASK=2048]="ITALIC_MASK",t[t.BOLD_MASK=4096]="BOLD_MASK",t[t.UNDERLINE_MASK=8192]="UNDERLINE_MASK",t[t.STRIKETHROUGH_MASK=16384]="STRIKETHROUGH_MASK",t[t.SEMANTIC_USE_ITALIC=1]="SEMANTIC_USE_ITALIC",t[t.SEMANTIC_USE_BOLD=2]="SEMANTIC_USE_BOLD",t[t.SEMANTIC_USE_UNDERLINE=4]="SEMANTIC_USE_UNDERLINE",t[t.SEMANTIC_USE_STRIKETHROUGH=8]="SEMANTIC_USE_STRIKETHROUGH",t[t.SEMANTIC_USE_FOREGROUND=16]="SEMANTIC_USE_FOREGROUND",t[t.SEMANTIC_USE_BACKGROUND=32]="SEMANTIC_USE_BACKGROUND",t[t.LANGUAGEID_OFFSET=0]="LANGUAGEID_OFFSET",t[t.TOKEN_TYPE_OFFSET=8]="TOKEN_TYPE_OFFSET",t[t.BALANCED_BRACKETS_OFFSET=10]="BALANCED_BRACKETS_OFFSET",t[t.FONT_STYLE_OFFSET=11]="FONT_STYLE_OFFSET",t[t.FOREGROUND_OFFSET=15]="FOREGROUND_OFFSET",t[t.BACKGROUND_OFFSET=24]="BACKGROUND_OFFSET"})(s||(e.MetadataConsts=s={}));class l{static getLanguageId(r){return(r&255)>>>0}static getTokenType(r){return(r&768)>>>8}static containsBalancedBrackets(r){return(r&1024)!==0}static getFontStyle(r){return(r&30720)>>>11}static getForeground(r){return(r&16744448)>>>15}static getBackground(r){return(r&4278190080)>>>24}static getClassNameFromMetadata(r){let o="mtk"+this.getForeground(r);const g=this.getFontStyle(r);return g&1&&(o+=" mtki"),g&2&&(o+=" mtkb"),g&4&&(o+=" mtku"),g&8&&(o+=" mtks"),o}static getInlineStyleFromMetadata(r,h){const o=this.getForeground(r),g=this.getFontStyle(r);let c=`color: ${h[o]};`;g&1&&(c+="font-style: italic;"),g&2&&(c+="font-weight: bold;");let n="";return g&4&&(n+=" underline"),g&8&&(n+=" line-through"),n&&(c+=`text-decoration:${n};`),c}static getPresentationFromMetadata(r){const h=this.getForeground(r),o=this.getFontStyle(r);return{foreground:h,italic:!!(o&1),bold:!!(o&2),underline:!!(o&4),strikethrough:!!(o&8)}}}e.$9s=l}),define(z[30],V([0,1,31]),function(q,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$PB=void 0;class k{constructor(s){this.b=s,this.a=[]}get(s){return s<this.a.length?this.a[s]:this.b}set(s,l){for(;s>=this.a.length;)this.a[this.a.length]=this.b;this.a[s]=l}replace(s,l,t){if(s>=this.a.length)return;if(l===0){this.insert(s,t);return}else if(t===0){this.delete(s,l);return}const r=this.a.slice(0,s),h=this.a.slice(s+l),o=v(t,this.b);this.a=r.concat(o,h)}delete(s,l){l===0||s>=this.a.length||this.a.splice(s,l)}insert(s,l){if(l===0||s>=this.a.length)return;const t=[];for(let r=0;r<l;r++)t[r]=this.b;this.a=(0,N.$Wb)(this.a,s,t)}}e.$PB=k;function v(A,s){const l=[];for(let t=0;t<A;t++)l[t]=s;return l}}),define(z[8],V([0,1,17]),function(q,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_s=void 0;class k{static createEmpty(s,l){const t=k.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=s.length,r[1]=t,new k(r,s,l)}constructor(s,l,t){this._lineTokensBrand=void 0,this.a=s,this.b=this.a.length>>>1,this.c=l,this.d=t}equals(s){return s instanceof k?this.slicedEquals(s,0,this.b):!1}slicedEquals(s,l,t){if(this.c!==s.c||this.b!==s.b)return!1;const r=l<<1,h=r+(t<<1);for(let o=r;o<h;o++)if(this.a[o]!==s.a[o])return!1;return!0}getLineContent(){return this.c}getCount(){return this.b}getStartOffset(s){return s>0?this.a[s-1<<1]:0}getMetadata(s){return this.a[(s<<1)+1]}getLanguageId(s){const l=this.a[(s<<1)+1],t=N.$9s.getLanguageId(l);return this.d.decodeLanguageId(t)}getStandardTokenType(s){const l=this.a[(s<<1)+1];return N.$9s.getTokenType(l)}getForeground(s){const l=this.a[(s<<1)+1];return N.$9s.getForeground(l)}getClassName(s){const l=this.a[(s<<1)+1];return N.$9s.getClassNameFromMetadata(l)}getInlineStyle(s,l){const t=this.a[(s<<1)+1];return N.$9s.getInlineStyleFromMetadata(t,l)}getPresentation(s){const l=this.a[(s<<1)+1];return N.$9s.getPresentationFromMetadata(l)}getEndOffset(s){return this.a[s<<1]}findTokenIndexAtOffset(s){return k.findIndexInTokensArray(this.a,s)}inflate(){return this}sliceAndInflate(s,l,t){return new v(this,s,l,t)}static convertToEndOffset(s,l){const r=(s.length>>>1)-1;for(let h=0;h<r;h++)s[h<<1]=s[h+1<<1];s[r<<1]=l}static findIndexInTokensArray(s,l){if(s.length<=2)return 0;let t=0,r=(s.length>>>1)-1;for(;t<r;){const h=t+Math.floor((r-t)/2),o=s[h<<1];if(o===l)return h+1;o<l?t=h+1:o>l&&(r=h)}return t}withInserted(s){if(s.length===0)return this;let l=0,t=0,r="";const h=new Array;let o=0;for(;;){const g=l<this.b?this.a[l<<1]:-1,c=t<s.length?s[t]:null;if(g!==-1&&(c===null||g<=c.offset)){r+=this.c.substring(o,g);const n=this.a[(l<<1)+1];h.push(r.length,n),l++,o=g}else if(c){if(c.offset>o){r+=this.c.substring(o,c.offset);const n=this.a[(l<<1)+1];h.push(r.length,n),o=c.offset}r+=c.text,h.push(r.length,c.tokenMetadata),t++}else break}return new k(new Uint32Array(h),r,this.d)}}e.$_s=k,k.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class v{constructor(s,l,t,r){this.a=s,this.b=l,this.c=t,this.d=r,this.e=s.findTokenIndexAtOffset(l),this.f=0;for(let h=this.e,o=s.getCount();h<o&&!(s.getStartOffset(h)>=t);h++)this.f++}getMetadata(s){return this.a.getMetadata(this.e+s)}getLanguageId(s){return this.a.getLanguageId(this.e+s)}getLineContent(){return this.a.getLineContent().substring(this.b,this.c)}equals(s){return s instanceof v?this.b===s.b&&this.c===s.c&&this.d===s.d&&this.a.slicedEquals(s.a,this.e,this.f):!1}getCount(){return this.f}getForeground(s){return this.a.getForeground(this.e+s)}getEndOffset(s){const l=this.a.getEndOffset(this.e+s);return Math.min(this.c,l)-this.b+this.d}getClassName(s){return this.a.getClassName(this.e+s)}getInlineStyle(s,l){return this.a.getInlineStyle(this.e+s,l)}getPresentation(s){return this.a.getPresentation(this.e+s)}findTokenIndexAtOffset(s){return this.a.findTokenIndexAtOffset(s+this.b-this.d)-this.e}}}),define(z[32],V([0,1,8]),function(q,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ct=e.$bt=e.$at=void 0,e.$at=new Uint32Array(0).buffer;class k{static deleteBeginning(s,l){return s===null||s===e.$at?s:k.delete(s,0,l)}static deleteEnding(s,l){if(s===null||s===e.$at)return s;const t=v(s),r=t[t.length-2];return k.delete(s,l,r)}static delete(s,l,t){if(s===null||s===e.$at||l===t)return s;const r=v(s),h=r.length>>>1;if(l===0&&r[r.length-2]===t)return e.$at;const o=N.$_s.findIndexInTokensArray(r,l),g=o>0?r[o-1<<1]:0,c=r[o<<1];if(t<c){const I=t-l;for(let U=o;U<h;U++)r[U<<1]-=I;return s}let n,i;g!==l?(r[o<<1]=l,n=o+1<<1,i=l):(n=o<<1,i=g);const a=t-l;for(let I=o+1;I<h;I++){const U=r[I<<1]-a;U>i&&(r[n++]=U,r[n++]=r[(I<<1)+1],i=U)}if(n===r.length)return s;const w=new Uint32Array(n);return w.set(r.subarray(0,n),0),w.buffer}static append(s,l){if(l===e.$at)return s;if(s===e.$at)return l;if(s===null)return s;if(l===null)return null;const t=v(s),r=v(l),h=r.length>>>1,o=new Uint32Array(t.length+r.length);o.set(t,0);let g=t.length;const c=t[t.length-2];for(let n=0;n<h;n++)o[g++]=r[n<<1]+c,o[g++]=r[(n<<1)+1];return o.buffer}static insert(s,l,t){if(s===null||s===e.$at)return s;const r=v(s),h=r.length>>>1;let o=N.$_s.findIndexInTokensArray(r,l);o>0&&r[o-1<<1]===l&&o--;for(let g=o;g<h;g++)r[g<<1]+=t;return s}}e.$bt=k;function v(A){return A instanceof Uint32Array?A:new Uint32Array(A)}e.$ct=v}),define(z[33],V([0,1,31,12,46,16,32,18]),function(q,e,N,k,v,A,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dt=void 0;class t{static deserialize(h,o,g){const c=new Uint32Array(h.buffer),n=(0,k.$ge)(h,o);o+=4;const i=(0,k.$ge)(h,o);o+=4;const a=[];for(let w=0;w<i;w++){const I=(0,k.$ge)(h,o);o+=4,a.push(c.subarray(o/4,o/4+I/4)),o+=I}return g.push(new t(n,a)),o}get startLineNumber(){return this.a}get endLineNumber(){return this.a+this.b.length-1}constructor(h,o){this.a=h,this.b=o}getLineRange(){return new l.$Hs(this.a,this.a+this.b.length)}getLineTokens(h){return this.b[h-this.a]}appendLineTokens(h){this.b.push(h)}serializeSize(){let h=0;h+=4,h+=4;for(let o=0;o<this.b.length;o++){const g=this.b[o];if(!(g instanceof Uint32Array))throw new Error("Not supported!");h+=4,h+=g.byteLength}return h}serialize(h,o){(0,k.$he)(h,this.a,o),o+=4,(0,k.$he)(h,this.b.length,o),o+=4;for(let g=0;g<this.b.length;g++){const c=this.b[g];if(!(c instanceof Uint32Array))throw new Error("Not supported!");(0,k.$he)(h,c.byteLength,o),o+=4,h.set(new Uint8Array(c.buffer),o),o+=c.byteLength}return o}applyEdit(h,o){const[g,c]=(0,A.$$s)(o);this.c(h),this.d(new v.$xs(h.startLineNumber,h.startColumn),g,c)}c(h){if(h.startLineNumber===h.endLineNumber&&h.startColumn===h.endColumn)return;const o=h.startLineNumber-this.a,g=h.endLineNumber-this.a;if(g<0){const c=g-o;this.a-=c;return}if(!(o>=this.b.length)){if(o<0&&g>=this.b.length){this.a=0,this.b=[];return}if(o===g){this.b[o]=s.$bt.delete(this.b[o],h.startColumn-1,h.endColumn-1);return}if(o>=0)if(this.b[o]=s.$bt.deleteEnding(this.b[o],h.startColumn-1),g<this.b.length){const c=s.$bt.deleteBeginning(this.b[g],h.endColumn-1);this.b[o]=s.$bt.append(this.b[o],c),this.b.splice(o+1,g-o)}else this.b[o]=s.$bt.append(this.b[o],null),this.b=this.b.slice(0,o+1);else{const c=-o;this.a-=c,this.b[g]=s.$bt.deleteBeginning(this.b[g],h.endColumn-1),this.b=this.b.slice(g)}}}d(h,o,g){if(o===0&&g===0)return;const c=h.lineNumber-this.a;if(c<0){this.a+=o;return}if(!(c>=this.b.length)){if(o===0){this.b[c]=s.$bt.insert(this.b[c],h.column-1,g);return}this.b[c]=s.$bt.deleteEnding(this.b[c],h.column-1),this.b[c]=s.$bt.insert(this.b[c],h.column-1,g),this.e(h.lineNumber,o)}}e(h,o){if(o===0)return;const g=[];for(let c=0;c<o;c++)g[c]=null;this.b=N.$Wb(this.b,h,g)}}e.$dt=t}),define(z[19],V([0,1,12,33]),function(q,e,N,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$QB=void 0;class v{static deserialize(s){let l=0;const t=(0,N.$ge)(s,l);l+=4;const r=[];for(let h=0;h<t;h++)l=k.$dt.deserialize(s,l,r);return r}constructor(){this.a=[]}add(s,l){if(this.a.length>0){const t=this.a[this.a.length-1];if(t.endLineNumber+1===s){t.appendLineTokens(l);return}}this.a.push(new k.$dt(s,[l]))}finalize(){return this.a}serialize(){const s=this.b(),l=new Uint8Array(s);return this.c(l),l}b(){let s=0;s+=4;for(let l=0;l<this.a.length;l++)s+=this.a[l].serializeSize();return s}c(s){let l=0;(0,N.$he)(s,this.a.length,l),l+=4;for(let t=0;t<this.a.length;t++)l=this.a[t].serialize(s,l)}}e.$QB=v}),define(z[20],V([0,1,34]),function(q,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$OB=e.$NB=e.$MB=void 0,e.$MB=new class{clone(){return this}equals(A){return this===A}};function k(A,s){return new N.$gt([new N.$ft(0,"",A)],s)}e.$NB=k;function v(A,s){const l=new Uint32Array(2);return l[0]=0,l[1]=(A<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new N.$ht(l,s===null?e.$MB:s)}e.$OB=v}),define(z[35],V([0,1,15,6,3,36,16,18,47,20,30,19,8]),function(q,e,N,k,v,A,s,l,t,r,h,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$WB=e.$VB=e.$UB=e.$TB=e.$SB=e.$RB=void 0;var c;(function(T){T[T.CHEAP_TOKENIZATION_LENGTH_LIMIT=2048]="CHEAP_TOKENIZATION_LENGTH_LIMIT"})(c||(c={}));class n{constructor($,y){this.tokenizationSupport=y,this.a=this.tokenizationSupport.getInitialState(),this.store=new a($)}getStartState($){return this.store.getStartState($,this.a)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.a)}}e.$RB=n;class i extends n{constructor($,y,f,m){super($,y),this._textModel=f,this._languageIdCodec=m}updateTokensUntilLine($,y){const f=this._textModel.getLanguageId();for(;;){const m=this.getFirstInvalidLine();if(!m||m.lineNumber>y)break;const P=this._textModel.getLineContent(m.lineNumber),d=U(this._languageIdCodec,f,this.tokenizationSupport,P,!0,m.startState);$.add(m.lineNumber,d.tokens),this.store.setEndState(m.lineNumber,d.endState)}}getTokenTypeIfInsertingCharacter($,y){const f=this.getStartState($.lineNumber);if(!f)return 0;const m=this._textModel.getLanguageId(),P=this._textModel.getLineContent($.lineNumber),d=P.substring(0,$.column-1)+y+P.substring($.column-1),S=U(this._languageIdCodec,m,this.tokenizationSupport,d,!0,f),L=new g.$_s(S.tokens,d,this._languageIdCodec);if(L.getCount()===0)return 0;const F=L.findTokenIndexAtOffset($.column-1);return L.getStandardTokenType(F)}tokenizeLineWithEdit($,y,f){const m=$.lineNumber,P=$.column,d=this.getStartState(m);if(!d)return null;const S=this._textModel.getLineContent(m),L=S.substring(0,P-1)+f+S.substring(P-1+y),F=this._textModel.getLanguageIdAtPosition(m,0),O=U(this._languageIdCodec,F,this.tokenizationSupport,L,!0,d);return new g.$_s(O.tokens,L,this._languageIdCodec)}isCheapToTokenize($){const y=this.store.getFirstInvalidEndStateLineNumberOrMax();return $<y||$===y&&this._textModel.getLineLength($)<2048}tokenizeHeuristically($,y,f){if(f<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(y<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine($,f),{heuristicTokens:!1};let m=this.b(y);const P=this._textModel.getLanguageId();for(let d=y;d<=f;d++){const S=this._textModel.getLineContent(d),L=U(this._languageIdCodec,P,this.tokenizationSupport,S,!0,m);$.add(d,L.tokens),m=L.endState}return{heuristicTokens:!0}}b($){let y=this._textModel.getLineFirstNonWhitespaceColumn($);const f=[];let m=null;for(let S=$-1;y>1&&S>=1;S--){const L=this._textModel.getLineFirstNonWhitespaceColumn(S);if(L!==0&&L<y&&(f.push(this._textModel.getLineContent(S)),y=L,m=this.getStartState(S),m))break}m||(m=this.tokenizationSupport.getInitialState()),f.reverse();const P=this._textModel.getLanguageId();let d=m;for(const S of f)d=U(this._languageIdCodec,P,this.tokenizationSupport,S,!1,d).endState;return d}}e.$SB=i;class a{constructor($){this.d=$,this.a=new w,this.b=new I,this.b.addRange(new t.$Fs(1,$+1))}getEndState($){return this.a.getEndState($)}setEndState($,y){if(!y)throw new k.$cb("Cannot set null/undefined state");this.b.delete($);const f=this.a.setEndState($,y);return f&&$<this.d&&this.b.addRange(new t.$Fs($+1,$+2)),f}acceptChange($,y){this.d+=y-$.length,this.a.acceptChange($,y),this.b.addRangeAndResize(new t.$Fs($.startLineNumber,$.endLineNumberExclusive),y)}acceptChanges($){for(const y of $){const[f]=(0,s.$$s)(y.text);this.acceptChange(new l.$Hs(y.range.startLineNumber,y.range.endLineNumber+1),f+1)}}invalidateEndStateRange($){this.b.addRange(new t.$Fs($.startLineNumber,$.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this.b.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this.b.min===null}getStartState($,y){return $===1?y:this.getEndState($-1)}getFirstInvalidLine($){const y=this.getFirstInvalidEndStateLineNumber();if(y===null)return null;const f=this.getStartState(y,$);if(!f)throw new k.$cb("Start state must be defined");return{lineNumber:y,startState:f}}}e.$TB=a;class w{constructor(){this.a=new h.$PB(null)}getEndState($){return this.a.get($)}setEndState($,y){const f=this.a.get($);return f&&f.equals(y)?!1:(this.a.set($,y),!0)}acceptChange($,y){let f=$.length;y>0&&f>0&&(f--,y--),this.a.replace($.startLineNumber,f,y)}acceptChanges($){for(const y of $){const[f]=(0,s.$$s)(y.text);this.acceptChange(new l.$Hs(y.range.startLineNumber,y.range.endLineNumber+1),f+1)}}}e.$UB=w;class I{constructor(){this.a=[]}getRanges(){return this.a}get min(){return this.a.length===0?null:this.a[0].start}removeMin(){if(this.a.length===0)return null;const $=this.a[0];return $.start+1===$.endExclusive?this.a.shift():this.a[0]=new t.$Fs($.start+1,$.endExclusive),$.start}delete($){const y=this.a.findIndex(f=>f.contains($));if(y!==-1){const f=this.a[y];f.start===$?f.endExclusive===$+1?this.a.splice(y,1):this.a[y]=new t.$Fs($+1,f.endExclusive):f.endExclusive===$+1?this.a[y]=new t.$Fs(f.start,$):this.a.splice(y,1,new t.$Fs(f.start,$),new t.$Fs($+1,f.endExclusive))}}addRange($){t.$Fs.addRange($,this.a)}addRangeAndResize($,y){let f=0;for(;!(f>=this.a.length||$.start<=this.a[f].endExclusive);)f++;let m=f;for(;!(m>=this.a.length||$.endExclusive<this.a[m].start);)m++;const P=y-$.length;for(let d=m;d<this.a.length;d++)this.a[d]=this.a[d].delta(P);if(f===m){const d=new t.$Fs($.start,$.start+y);d.isEmpty||this.a.splice(f,0,d)}else{const d=Math.min($.start,this.a[f].start),S=Math.max($.endExclusive,this.a[m-1].endExclusive),L=new t.$Fs(d,S+P);L.isEmpty?this.a.splice(f,m-f):this.a.splice(f,m-f,L)}}toString(){return this.a.map($=>$.toString()).join(" + ")}}e.$VB=I;function U(T,$,y,f,m,P){let d=null;if(y)try{d=y.tokenizeEncoded(f,m,P.clone())}catch(S){(0,k.$1)(S)}return d||(d=(0,r.$OB)(T.encodeLanguageId($),P)),g.$_s.convertToEndOffset(d.tokens,f.length),d}class j{constructor($,y){this.b=$,this.d=y,this.a=!1,this.f=!1}dispose(){this.a=!0}handleChanges(){this.g()}g(){this.f||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.f=!0,(0,N.$$g)($=>{this.f=!1,this.h($)}))}h($){const y=Date.now()+$.timeRemaining(),f=()=>{this.a||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.j(),Date.now()<y?(0,v.$v)(f):this.g())};f()}j(){const $=this.b._textModel.getLineCount(),y=new o.$QB,f=A.$Kd.create(!1);do if(f.elapsed()>1||this.l(y)>=$)break;while(this.k());this.d.setTokens(y.finalize()),this.checkFinished()}k(){return this.b?!this.b.store.allStatesValid():!1}l($){const y=this.b?.getFirstInvalidLine();return y?(this.b.updateTokensUntilLine($,y.lineNumber),y.lineNumber):this.b._textModel.getLineCount()+1}checkFinished(){this.a||this.b.store.allStatesValid()&&this.d.backgroundTokenizationFinished()}requestTokens($,y){this.b.store.invalidateEndStateRange(new l.$Hs($,y))}}e.$WB=j}),define(z[37],V([0,1,29,2,36,17,34]),function(q,e,N,k,v,A,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$UEb=void 0;class l extends k.$Sc{constructor(r,h,o,g,c,n,i){super(),this.c=r,this.f=h,this.g=o,this.h=g,this.j=c,this.m=n,this.n=i,this.a=[],this.b=this.B(new N.$Od),this.onDidEncounterLanguage=this.b.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this.j()}getInitialState(){return this.f}tokenize(r,h,o){throw new Error("Not supported!")}createBackgroundTokenizer(r,h){if(this.h)return this.h(r,h)}tokenizeEncoded(r,h,o){const g=Math.random()*1e4<1,c=this.n||g,n=c?new v.$Kd(!0):void 0,i=this.c.tokenizeLine2(r,o,500);if(c){const w=n.elapsed();(g||w>32)&&this.m(w,r.length,g)}if(i.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${r.substring(0,100)}`),new s.$ht(i.tokens,o);if(this.g){const w=this.a,I=i.tokens;for(let U=0,j=I.length>>>1;U<j;U++){const T=I[(U<<1)+1],$=A.$9s.getLanguageId(T);w[$]||(w[$]=!0,this.b.fire($))}}let a;return o.equals(i.ruleStack)?a=o:a=i.ruleStack,new s.$ht(i.tokens,a)}}e.$UEb=l}),define(z[38],V([0,1,20,2,11]),function(q,e,N,k,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$VEb=void 0;class A extends k.$Sc{get backgroundTokenizerShouldOnlyVerifyTokens(){return this.b.backgroundTokenizerShouldOnlyVerifyTokens}constructor(l,t,r){super(),this.a=l,this.b=t,this.c=r,this.B((0,v.keepObserved)(this.c))}getInitialState(){return this.b.getInitialState()}tokenize(l,t,r){throw new Error("Not supported!")}tokenizeEncoded(l,t,r){return l.length>=this.c.get()?(0,N.$OB)(this.a,r):this.b.tokenizeEncoded(l,t,r)}createBackgroundTokenizer(l,t){if(this.b.createBackgroundTokenizer)return this.b.createBackgroundTokenizer(l,t)}}e.$VEb=A}),define(z[39],V([0,1,28,15,11,3,18,48,35,19,8,37,38]),function(q,e,N,k,v,A,s,l,t,r,h,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1Eb=void 0;class c extends l.$1u{constructor(a,w,I,U,j,T,$,y){super(a,w,I,U),this.s=j,this.t=T,this.u=$,this.a=null,this.b=!1,this.c=(0,v.observableValue)(this,-1),this.q=new k.$7g(()=>this.w(),10),this.c.set(y,void 0),this.v()}dispose(){this.b=!0,super.dispose()}onLanguageId(a,w){this.t=a,this.u=w,this.v()}onEvents(a){super.onEvents(a),this.a?.store.acceptChanges(a.changes),this.q.schedule()}acceptMaxTokenizationLineLength(a){this.c.set(a,void 0)}retokenize(a,w){this.a&&(this.a.store.invalidateEndStateRange(new s.$Hs(a,w)),this.q.schedule())}async v(){this.a=null;const a=this.t,w=this.u,I=await this.s.getOrCreateGrammar(a,w);if(!(this.b||a!==this.t||w!==this.u||!I)){if(I.grammar){const U=new g.$VEb(this.u,new o.$UEb(I.grammar,I.initialState,!1,void 0,()=>!1,(j,T,$)=>{this.s.reportTokenizationTime(j,a,I.sourceExtensionId,T,$)},!1),this.c);this.a=new t.$RB(this.f.length,U)}else this.a=null;this.w()}}async w(){if(this.b||!this.a)return;if(!this.m){const{diffStateStacksRefEq:w}=await(0,N.$AC)("vscode-textmate","release/main.js");this.m=w}const a=new Date().getTime();for(;;){let w=0;const I=new r.$QB,U=new n;for(;;){const $=this.a.getFirstInvalidLine();if($===null||w>200)break;w++;const y=this.f[$.lineNumber-1],f=this.a.tokenizationSupport.tokenizeEncoded(y,!0,$.startState);if(this.a.store.setEndState($.lineNumber,f.endState)){const P=this.m($.startState,f.endState);U.setState($.lineNumber,P)}else U.setState($.lineNumber,null);if(h.$_s.convertToEndOffset(f.tokens,y.length),I.add($.lineNumber,f.tokens),new Date().getTime()-a>20)break}if(w===0)break;const j=U.getStateDeltas();if(this.s.setTokensAndStates(this.h,I.serialize(),j),new Date().getTime()-a>20){(0,A.$v)(()=>this.w());return}}}}e.$1Eb=c;class n{constructor(){this.a=-1,this.b=[]}setState(a,w){a===this.a+1?this.b[this.b.length-1].stateDeltas.push(w):this.b.push({startLineNumber:a,stateDeltas:[w]}),this.a=a}getStateDeltas(){return this.b}}}),define(z[40],V([0,1,14]),function(q,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$XEb=void 0;class k{constructor(){this.a=Object.create(null)}reset(){this.a=Object.create(null)}register(A){if(this.a[A.scopeName]){const s=this.a[A.scopeName];N.$pg(s.location,A.location)||console.warn(`Overwriting grammar scope name to file mapping for scope ${A.scopeName}.
Old grammar file: ${s.location.toString()}.
New grammar file: ${A.location.toString()}`)}this.a[A.scopeName]=A}getGrammarDefinition(A){return this.a[A]||null}}e.$XEb=k}),define(z[41],V([0,1,2,40]),function(q,e,N,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ZEb=e.$YEb=void 0,e.$YEb="No TM Grammar registered for this language.";class v extends N.$Sc{constructor(s,l,t,r){super(),this.a=s,this.b=t.INITIAL,this.c=new k.$XEb,this.f={},this.g={},this.h=new Map,this.j=this.B(new t.Registry({onigLib:r,loadGrammar:async h=>{const o=this.c.getGrammarDefinition(h);if(!o)return this.a.logTrace(`No grammar found for scope ${h}`),null;const g=o.location;try{const c=await this.a.readFile(g);return t.parseRawGrammar(c,g.path)}catch(c){return this.a.logError(`Unable to load and parse grammar for scope ${h} from ${g}`,c),null}},getInjections:h=>{const o=h.split(".");let g=[];for(let c=1;c<=o.length;c++){const n=o.slice(0,c).join(".");g=[...g,...this.f[n]||[]]}return g}}));for(const h of l){if(this.c.register(h),h.injectTo){for(const o of h.injectTo){let g=this.f[o];g||(this.f[o]=g=[]),g.push(h.scopeName)}if(h.embeddedLanguages)for(const o of h.injectTo){let g=this.g[o];g||(this.g[o]=g=[]),g.push(h.embeddedLanguages)}}h.language&&this.h.set(h.language,h.scopeName)}}has(s){return this.h.has(s)}setTheme(s,l){this.j.setTheme(s,l)}getColorMap(){return this.j.getColorMap()}async createGrammar(s,l){const t=this.h.get(s);if(typeof t!="string")throw new Error(e.$YEb);const r=this.c.getGrammarDefinition(t);if(!r)throw new Error(e.$YEb);const h=r.embeddedLanguages;if(this.g[t]){const c=this.g[t];for(const n of c)for(const i of Object.keys(n))h[i]=n[i]}const o=Object.keys(h).length>0;let g;try{g=await this.j.loadGrammarWithConfiguration(t,l,{embeddedLanguages:h,tokenTypes:r.tokenTypes,balancedBracketSelectors:r.balancedBracketSelectors,unbalancedBracketSelectors:r.unbalancedBracketSelectors})}catch(c){throw c.message&&c.message.startsWith("No grammar provided for")?new Error(e.$YEb):c}return{languageId:s,grammar:g,initialState:this.b,containsEmbeddedLanguages:o,sourceExtensionId:r.sourceExtensionId}}}e.$ZEb=v}),define(z[49],V([0,1,7,41,39]),function(q,e,N,k,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextMateTokenizationWorker=e.create=void 0;function A(l,t){return new s(l,t)}e.create=A;class s{constructor(t,r){this.f=r,this.b=new Map,this.c=[],this.a=t.host;const h=r.grammarDefinitions.map(o=>({location:N.URI.revive(o.location),language:o.language,scopeName:o.scopeName,embeddedLanguages:o.embeddedLanguages,tokenTypes:o.tokenTypes,injectTo:o.injectTo,balancedBracketSelectors:o.balancedBracketSelectors,unbalancedBracketSelectors:o.unbalancedBracketSelectors,sourceExtensionId:o.sourceExtensionId}));this.d=this.g(h)}async g(t){const r=this.f.textmateMainUri,h=await new Promise((i,a)=>{q([r],i,a)}),o=await new Promise((i,a)=>{q([this.f.onigurumaMainUri],i,a)}),c=await(await fetch(this.f.onigurumaWASMUri)).arrayBuffer();await o.loadWASM(c);const n=Promise.resolve({createOnigScanner:i=>o.createOnigScanner(i),createOnigString:i=>o.createOnigString(i)});return new k.$ZEb({logTrace:i=>{},logError:(i,a)=>console.error(i,a),readFile:i=>this.a.readFile(i)},t,h,n)}acceptNewModel(t){const r=N.URI.revive(t.uri),h=this;this.b.set(t.controllerId,new v.$1Eb(r,t.lines,t.EOL,t.versionId,{async getOrCreateGrammar(o,g){const c=await h.d;return c?(h.c[g]||(h.c[g]=c.createGrammar(o,g)),h.c[g]):Promise.resolve(null)},setTokensAndStates(o,g,c){h.a.setTokensAndStates(t.controllerId,o,g,c)},reportTokenizationTime(o,g,c,n,i){h.a.reportTokenizationTime(o,g,c,n,i)}},t.languageId,t.encodedLanguageId,t.maxTokenizationLineLength))}acceptModelChanged(t,r){this.b.get(t).onEvents(r)}retokenize(t,r,h){this.b.get(t).retokenize(r,h)}acceptModelLanguageChanged(t,r,h){this.b.get(t).onLanguageId(r,h)}acceptRemovedModel(t){const r=this.b.get(t);r&&(r.dispose(),this.b.delete(t))}async acceptTheme(t,r){(await this.d)?.setTheme(t,r)}acceptMaxTokenizationLineLength(t,r){this.b.get(t).acceptMaxTokenizationLineLength(r)}}e.TextMateTokenizationWorker=s})}).call(this);

//# sourceMappingURL=textMateTokenizationWorker.worker.js.map
